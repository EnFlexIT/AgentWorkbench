<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="javadoc-create">

	<property name="destinDir" value="doc" />
	<property name="destinDirAPI" value="${destinDir}\api\\" />
	<property name="destinDirIMG" value="${destinDir}\img\\" />

	<!-- Get the version info -->
	<property name="versionPropertyFile" value="src\agentgui\version.properties"/>
	<property name="versionBuildNumberFile" value="src\agentgui\build.number"/>
		
	<property prefix="old" file="${versionPropertyFile}"/>
	<property name="version.major" value="${old.version.major}"/>
	<property name="version.minor" value="${old.version.minor}"/>
	
	<property file="${versionBuildNumberFile}"/>
	<property name="version.build" value="${build.number}"/>
				
	<property name="doc.title" value="Agent.GUI - Documentation (Version ${version.major}.${version.minor} Build ${version.build})"/> 
	<property name="zip.name" value="Agent.GUI_${version.major}.${version.minor}_API.zip"/>
	
		
	<target name="javadoc-create" depends="" description="Creating javadoc ... ">
		<echo>Build: ${doc.title}</echo>
		<antcall target="cleanup"/>
		<antcall target="javadoc"/>
		<antcall target="javadoc-zip"/>
	</target>
	
	<target name="cleanup" description="Delete old API folder structure ...">
		<delete failonerror="false" dir="${destinDirAPI}" />    	    	
	</target>	
	
	<target name="javadoc">
		
		<!-- Build the API -->
		<javadoc access="package" 
			author="true" 
			source="1.6" 
			sourcepath="projects;src" 
			destdir="${destinDirAPI}" 
			doctitle="${doc.title}" 
			nodeprecated="false" 
			nodeprecatedlist="false" 
			noindex="false" 
			nonavbar="false" 
			notree="false" 
			splitindex="true" 
			use="true" 
			version="true"
			packagenames="agentgui.,gasmas.ontology.,agas.agents.components."

			classpath= "lib;
						lib/jade/lib/commons-codec/commons-codec-1.3.jar;
						lib/jade/lib/jade.jar;
						lib/jade/lib/migration.jar;
						lib/jade/lib/XMLCodec.jar;
						lib/jdbc/mysql-connector-java-3.0.17-ga-bin.jar;
						lib/google-api-translate-java-0.92.jar;
						lib/scimark2lib.jar;
						lib/hyperic-sigar/sigar-bin/lib/log4j.jar;
						lib/hyperic-sigar/sigar-bin/lib/sigar.jar;
						lib/jFreeChart/iText-2.1.5.jar;
						lib/jFreeChart/jcommon-1.0.17.jar;
						lib/jFreeChart/jfreechart-1.0.14.jar;
						lib/jep-2.3.1/jep-2.3.1.jar;
						lib/jung/collections-generic-4.01.jar;lib/batik/lib/pdf-transcoder.jar
						lib/jung/colt-1.2.0.jar;lib/jung/jung-samples-2.0.1.jar;
						lib/jung/jung-algorithms-2.0.1.jar;
						lib/jung/jung-api-2.0.1.jar;
						lib/jung/jung-graph-impl-2.0.1.jar;
						lib/jung/jung-io-2.0.1.jar;lib/batik/batik-ttf2svg.jar;
						lib/jung/jung-jai-2.0.1.jar;
						lib/jung/jung-visualization-2.0.1.jar;
						lib/jung/stax-api-1.0.1.jar;
						lib/jung/vecmath-1.3.1.jar;
						lib/jung/wstx-asl-3.2.6.jar;			
						lib/batik/batik.jar;"
			>

			<group title="AGAS-Agents" packages="agas.agents.components" />

			<group title="GasMAS-Ontology" packages="gasmas.ontology" />
		
			<group title="Agent.GUI" packages="agentgui.*" />
		
		</javadoc>
		
	</target>

	<target name="javadoc-zip" description="Zipping API">
		<zip destfile="${destinDirAPI}/${zip.name}">
			<fileset dir="${destinDirAPI}" />
		</zip>		
	</target>
	
</project>
