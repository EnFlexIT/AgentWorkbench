<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<jettyConfiguration>
    <serverName>AWB-WebServer</serverName>
    <startOn>AwbStart</startOn>
    <mutableHandlerCollection>true</mutableHandlerCollection>
    <jettySettings>
        <entry>
            <key>cors.allowCredentials</key>
            <value>
                <key>cors.allowCredentials</key>
                <value xsi:type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">true</value>
            </value>
        </entry>
        <entry>
            <key>cors.allowedHeaders</key>
            <value>
                <key>cors.allowedHeaders</key>
                <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">X-Requested-With,Content-Type,Accept,Origin,Authorization</value>
            </value>
        </entry>
        <entry>
            <key>cors.allowedMethods</key>
            <value>
                <key>cors.allowedMethods</key>
                <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">GET,POST,HEAD</value>
            </value>
        </entry>
        <entry>
            <key>cors.allowedOrigins</key>
            <value>
                <key>cors.allowedOrigins</key>
                <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">*</value>
            </value>
        </entry>
        <entry>
            <key>cors.allowedTimingOrigins</key>
            <value>
                <key>cors.allowedTimingOrigins</key>
                <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"></value>
            </value>
        </entry>
        <entry>
            <key>cors.chainPreflight</key>
            <value>
                <key>cors.chainPreflight</key>
                <value xsi:type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">false</value>
            </value>
        </entry>
        <entry>
            <key>cors.exposedHeaders</key>
            <value>
                <key>cors.exposedHeaders</key>
                <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">*</value>
            </value>
        </entry>
        <entry>
            <key>cors.filter.enabled</key>
            <value>
                <key>cors.filter.enabled</key>
                <value xsi:type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">false</value>
            </value>
        </entry>
        <entry>
            <key>cors.preflightMaxAge</key>
            <value>
                <key>cors.preflightMaxAge</key>
                <value xsi:type="xs:int" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">1800</value>
            </value>
        </entry>
        <entry>
            <key>http.enabled</key>
            <value>
                <key>http.enabled</key>
                <value xsi:type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">true</value>
            </value>
        </entry>
        <entry>
            <key>http.host</key>
            <value>
                <key>http.host</key>
                <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">localhost</value>
            </value>
        </entry>
        <entry>
            <key>http.maxThreads</key>
            <value>
                <key>http.maxThreads</key>
                <value xsi:type="xs:int" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">200</value>
            </value>
        </entry>
        <entry>
            <key>http.minThreads</key>
            <value>
                <key>http.minThreads</key>
                <value xsi:type="xs:int" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">8</value>
            </value>
        </entry>
        <entry>
            <key>http.port</key>
            <value>
                <key>http.port</key>
                <value xsi:type="xs:int" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">8080</value>
            </value>
        </entry>
        <entry>
            <key>http.to.https</key>
            <value>
                <key>http.to.https</key>
                <value xsi:type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">false</value>
            </value>
        </entry>
        <entry>
            <key>https.enabled</key>
            <value>
                <key>https.enabled</key>
                <value xsi:type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">false</value>
            </value>
        </entry>
        <entry>
            <key>https.host</key>
            <value>
                <key>https.host</key>
                <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">localhost</value>
            </value>
        </entry>
        <entry>
            <key>https.port</key>
            <value>
                <key>https.port</key>
                <value xsi:type="xs:int" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">8443</value>
            </value>
        </entry>
        <entry>
            <key>ssl.keypassword</key>
            <value>
                <key>ssl.keypassword</key>
            </value>
        </entry>
        <entry>
            <key>ssl.keystore</key>
            <value>
                <key>ssl.keystore</key>
            </value>
        </entry>
        <entry>
            <key>ssl.keystoretype</key>
            <value>
                <key>ssl.keystoretype</key>
                <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">pkcs12</value>
            </value>
        </entry>
        <entry>
            <key>ssl.needclientauth</key>
            <value>
                <key>ssl.needclientauth</key>
                <value xsi:type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">false</value>
            </value>
        </entry>
        <entry>
            <key>ssl.password</key>
            <value>
                <key>ssl.password</key>
            </value>
        </entry>
        <entry>
            <key>ssl.protocol</key>
            <value>
                <key>ssl.protocol</key>
                <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">TLS</value>
            </value>
        </entry>
        <entry>
            <key>ssl.wantclientauth</key>
            <value>
                <key>ssl.wantclientauth</key>
                <value xsi:type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">false</value>
            </value>
        </entry>
    </jettySettings>
    <securitySettings>
        <servletSecurityConfigurations>
            <entry>
                <key>_ServerWideSecurityConfiguration</key>
                <value>
                    <contextPath>_ServerWideSecurityConfiguration</contextPath>
                    <securityHandlerName>OIDCSecurityHandler</securityHandlerName>
                    <securityHandlerActivated>true</securityHandlerActivated>
                    <securityHandlerConfiguration>
                        <entry>
                            <key>ClientID</key>
                            <value>Energy.Portal</value>
                        </entry>
                        <entry>
                            <key>ClientSecrete</key>
                            <value>ZfsrOJWwwPqcoCRt3tnmcJqoVAblvHWK</value>
                        </entry>
                        <entry>
                            <key>Issuer</key>
                            <value>https://login.enflex.it/realms/enflexService</value>
                        </entry>
                    </securityHandlerConfiguration>
                </value>
            </entry>
        </servletSecurityConfigurations>
    </securitySettings>
    <webApplicationSettings>
        <downloadURL>https://p2.enflex.it/web/emsPortal/</downloadURL>
        <updateStrategy>Automatic</updateStrategy>
    </webApplicationSettings>
    <sessionSettings>
        <useIndividualSettings>true</useIndividualSettings>
        <settings>
            <entry>
                <key>a) Session Cookie (the session identifier for cookies)</key>
                <value>
                    <key>a) Session Cookie (the session identifier for cookies)</key>
                    <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">AWB_SESSIONID</value>
                </value>
            </entry>
            <entry>
                <key>b) Session ID Path Parameter Name (the session identifier for path parameter)</key>
                <value>
                    <key>b) Session ID Path Parameter Name (the session identifier for path parameter)</key>
                    <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">awb_sessionid</value>
                </value>
            </entry>
            <entry>
                <key>c) Using Cookies (determines whether the SessionHandler uses cookies)</key>
                <value>
                    <key>c) Using Cookies (determines whether the SessionHandler uses cookies)</key>
                    <value xsi:type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">true</value>
                </value>
            </entry>
            <entry>
                <key>d) Max Cookie Age (seconds that the session cookie will be valid)</key>
                <value>
                    <key>d) Max Cookie Age (seconds that the session cookie will be valid)</key>
                    <value xsi:type="xs:int" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">600</value>
                </value>
            </entry>
            <entry>
                <key>e) Max Inactive Interval (seconds after which an unused session may be scavenged)</key>
                <value>
                    <key>e) Max Inactive Interval (seconds after which an unused session may be scavenged)</key>
                    <value xsi:type="xs:int" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">720</value>
                </value>
            </entry>
            <entry>
                <key>f) Refresh Cookie Age (seconds to reset the session cookie, if 'MaxCookieAge' is non-zero)</key>
                <value>
                    <key>f) Refresh Cookie Age (seconds to reset the session cookie, if 'MaxCookieAge' is non-zero)</key>
                    <value xsi:type="xs:int" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">60</value>
                </value>
            </entry>
            <entry>
                <key>g) Session Domain</key>
                <value>
                    <key>g) Session Domain</key>
                    <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">localhost</value>
                </value>
            </entry>
            <entry>
                <key>h) Session Path</key>
                <value>
                    <key>h) Session Path</key>
                    <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">/</value>
                </value>
            </entry>
            <entry>
                <key>i) Same Site (NONE, STRICT or LAX)</key>
                <value>
                    <key>i) Same Site (NONE, STRICT or LAX)</key>
                    <value xsi:type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">STRICT</value>
                </value>
            </entry>
            <entry>
                <key>j) Secure Request Only</key>
                <value>
                    <key>j) Secure Request Only</key>
                    <value xsi:type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">true</value>
                </value>
            </entry>
            <entry>
                <key>k) Checking Remote Session ID Encoding</key>
                <value>
                    <key>k) Checking Remote Session ID Encoding</key>
                    <value xsi:type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">false</value>
                </value>
            </entry>
            <entry>
                <key>l) Http Only (session cookie will not be exposed to client-side)</key>
                <value>
                    <key>l) Http Only (session cookie will not be exposed to client-side)</key>
                    <value xsi:type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">true</value>
                </value>
            </entry>
        </settings>
    </sessionSettings>
</jettyConfiguration>
